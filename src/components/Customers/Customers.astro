---
import { Image } from "astro:assets";

import Score from "./Score.astro";

import coelhoKawaii from "../../assets/customers-images/coelho.png";

const arrCustomers = [
  {
    id: 0,
    title: "Fernanda Robalo",
    details: "Torta de queijo cremosa com calda ou geleia de morango por cima.",
    userScore: 4,
  },
  {
    id: 1,
    title: "Mariana Dias",
    details:
      "Um bolo macio com um distintivo sabor de cacau e cor vermelha, coberto com cream cheese.",
    userScore: 5,
  },
  {
    id: 2,
    title: "Segio Golçalvez",
    details:
      "Massa folhada recheada com creme de baunilha ou chocolate e coberta com ganache.",
    userScore: 5,
  },
  {
    id: 3,
    title: "Lima Dias",
    details:
      "Base de massa crocante, recheio cítrico de limão e merengue dourado por cima.",
    userScore: 4,
  },
  {
    id: 4,
    title: "Augusta Francista",
    details:
      "Biscoitos leves de amêndoa com recheio de ganache ou geleia de framboesa.",
    userScore: 4,
  },
  {
    id: 5,
    title: "Marta Nápolis",
    details:
      "Versão sofisticada do clássico brasileiro, com coberturas como castanhas, chocolate belga ou frutas.",
    userScore: 5,
  },
];
---

<section
  aria-labelledby="customers-heading"
  role="region"
  class="min-h-screen overflow-hidden flex flex-col gap-[10vh] p-8 pl-1 pr-0 bg-[#f2e6ff] sm:gap-[12vh] relative bluePattern bg-cover border-l-1 border-r-1"
>
  <h2
    id="customers-heading"
    class="text-5xl text-center text-new-pink font-semibold lg:text-6xl text-outline"
  >
    O que <br class="md:hidden" />as clientes dizem
  </h2>
  <div class="relative md:self-center">
    <section
      class="stop-animation flex overflow-x-auto gap-4 p-2 md:rounded-4xl md:max-w-[960px] lg:max-w-[1200px] md:overflow-hidden md:gap-6 fade-sides"
    >
      <div class="show-animation obey-animation flex gap-4 md:gap-6">
        {
          arrCustomers.map((item) => (
            <article class="flex flex-col gap-5 min-w-70 h-70 bg-[#ffffff] rounded-3xl p-4 pt-10 border-1 mb-2 md:mb-0 md:min-w-80 md:min-h-80 md:gap-6 md:pt-14">
              <header>
                <h2 class="font-extrabold text-xl text-center text-[#d94694] font-comfortaa md:text-2xl">
                  {item.title}
                </h2>
              </header>
              <section>
                <p class="font-bold text-center line-clamp-3 pl-2 pr-4  text-[#4d4d4d] font-nunito ">
                  {item.details}
                </p>
              </section>
              <footer class="flex justify-center items-center">
                <Score rating={item.userScore} />
              </footer>
            </article>
          ))
        }
      </div>
      <div class="hidden show-animation obey-animation md:flex gap-4 md:gap-6">
        {
          arrCustomers.map((item) => (
            <article class="flex flex-col gap-4 min-w-70 h-70 bg-[#ffffff] rounded-3xl p-4 pt-10 border-1 md:min-w-80 md:min-h-80 md:gap-6 md:pt-14">
              <header>
                <h2 class="font-extrabold text-xl text-center text-[#d94694] font-comfortaa md:text-2xl">
                  {item.title}
                </h2>
              </header>
              <section>
                <p class="font-bold text-center line-clamp-3 pl-2 pr-4  text-[#4d4d4d] font-nunito">
                  {item.details}
                </p>
              </section>
              <footer class="flex justify-center items-center">
                <Score rating={item.userScore} />
              </footer>
            </article>
          ))
        }
      </div>
    </section>
    <div
      class="hidden xl:block absolute w-full min-w-[1280px] -bottom-8 -left-10 self-center"
    >
      <Image
        src={coelhoKawaii}
        alt="donuts"
        class="object-contain w-40 h-auto left-0 bottom-0 absolute z-10"
        format="avif"
      />
      <Image
        src={coelhoKawaii}
        alt="donuts"
        class="object-contain w-40 h-auto right-0 bottom-0 absolute z-10 scale-x-[-1]"
        format="avif"
      />
    </div>
  </div>
  <div class="self-center p-2">
    <p
      class="text-center font-medium text-[#333333] max-w-[500px] md:max-w-[600px] sm:text-lg"
    >
      Nossas clientes estão encantadas com cada doce feito com carinho e
      dedicação. Cada bolo, cada sobremesa, cada detalhe é pensado para
      transformar momentos especiais em memórias inesquecíveis. A felicidade
      delas é o ingrediente mais importante da nossa confeitaria!
    </p>
  </div>
</section>

<style>
  section {
    scrollbar-color: #e60073 transparent;
    scrollbar-width: thin;
  }

  @media (min-width: 768px) {
    .show-animation {
      animation: scroll 30s linear infinite;
    }

    .stop-animation:hover {
      animation-play-state: paused;
    }

    .obey-animation {
      animation-play-state: inherit;
    }
  }

  @keyframes scroll {
    0% {
      transform: translateX(0%);
    }
    100% {
      transform: translateX(-100%);
    }
  }
</style>
